// views/includes/footer.pug

// Bootstrap JS（可有可无，对布局没影响）
script(src="https://code.jquery.com/jquery-3.5.1.slim.min.js")
script(src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js")
script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js")

// 简单的原生 JS 控制弹窗
script.
  document.addEventListener('DOMContentLoaded', function () {
    var imgs = document.querySelectorAll('.profile-img');
    var box = document.getElementById('info_box');
    var title = document.getElementById('info_title');
    var foodieSpan = document.getElementById('info_foodie_value');
    var bioSpan = document.getElementById('info_bio_value');
    var closeBtns = document.querySelectorAll('.closeBtn');

    if (!box) return;

    imgs.forEach(function (img) {
      img.addEventListener('click', function () {
        title.textContent = this.dataset.name;
        foodieSpan.textContent = this.dataset.foodie;
        bioSpan.textContent = this.dataset.bio;
        box.style.visibility = 'visible';
      });
    });

    closeBtns.forEach(function (btn) {
      btn.addEventListener('click', function () {
        box.style.visibility = 'hidden';
      });
    });
  });
